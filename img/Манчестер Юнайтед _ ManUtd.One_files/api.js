const localRest=Boolean(document.cookie.split(";").find((e=>"localRest"===e.trim().split("=")[0]&&"1"===e.split("=")[1]))),requestPromises={},get=e=>(requestPromises[e]||(requestPromises[e]=new Promise(((t,a)=>{const s=JSON.parse(localStorage.getItem(e)),r=new XMLHttpRequest,o=localRest?"http://localhost:3210":"https://manutd.one";return r.open("GET",`${o}/restApi/${e}`,!0),r.onreadystatechange=function(){if(4===this.readyState)if(200!==this.status&&4===this.readyState)s&&s.response?t(s.response):a(this);else{const a=JSON.parse(this.responseText);localStorage.setItem(e,JSON.stringify({datetime:(new Date).getTime(),response:a})),requestPromises[e]=null,t(a)}},r.send(),r}))),requestPromises[e]),formatCallbacks=e=>"function"==typeof e?[e]:"object"!=typeof e||Array.isArray(e)?e||[]:Object.keys(e).map((t=>e[t])),invokeCallbacks=e=>[...formatCallbacks(e),...window.MU1.onLoadCallbacks];window.MU1||(window.MU1={onLoadCallbacks:[],Api:{onLoad:e=>{window.MU1.onLoadCallbacks.push(...formatCallbacks(e))},get:(e,t,a)=>get(e).then((e=>invokeCallbacks(t).forEach((t=>t(e)))))},i18n:{parseMatchTime:e=>{const[t,a]=e.split("-"),[s,r]=t.split(" "),o={"января":0,"февраля":1,"марта":2,"апреля":3,"мая":4,"июня":5,"июля":6,"августа":7,"сентября":8,"октября":9,"ноября":10,"декабря":11},[n,l]=a.split(":"),i=parseInt(n,10)-3,c=(new Date).getFullYear(),u=11===(new Date).getMonth()&&0===o[r];return new Date(Date.UTC(u?c+1:c,o[r],s,i,l))},monthTranslate:(e,t=!1)=>{const a="number"==typeof e?{0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"}[e]:e;return{January:"январ",February:"феврал",March:"март",April:"апрел",May:"ма",June:"июн",July:"июл",August:"август",September:"сентябр",October:"октябр",November:"ноябр",December:"декабр"}[a]+{January:["ь","я"],February:["ь","я"],March:["","а"],April:["ь","я"],May:["й","я"],June:["ь","я"],July:["ь","я"],August:["","а"],September:["ь","я"],October:["ь","я"],November:["ь","я"],December:["ь","я"]}[a][Number(t)]}}});